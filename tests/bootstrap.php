<?php

/*
 * Visitor stats addon for Bear CMS
 * https://github.com/bearcms/visitor-stats-addon
 * Copyright (c) Amplilabs Ltd.
 * Free to use under the MIT license.
 */

require __DIR__ . '/../vendor/autoload.php';

// require __DIR__ . '/visitorStatsTest.php';
// $test = new VisitorStatsTest();
// $app = $test->getApp();

// $app->visitorStats->log('pageview', ['url' => 'http://example.com/']); // session start
// $app->visitorStats->log('pageview', ['url' => 'http://example.com/', 'referrer' => '']); // session start
// $app->visitorStats->log('pageview', ['url' => 'http://example.com/products/', 'referrer' => 'http://example.com/']);
// $app->visitorStats->log('pageview', ['url' => 'http://example.com/products/', 'referrer' => 'example.com']);
// $app->visitorStats->log('pageview', ['url' => 'http://example.com/services/', 'referrer' => 'http://google.com/']); // session start
// $app->visitorStats->log('pageview', ['url' => 'http://example.com/products/', 'referrer' => 'google.com']); // session start
// $app->visitorStats->log('pageview', ['url' => 'http://example.com/contacts/', 'referrer' => 'http://yahoo.com/asdads/']); // session start
// $app->visitorStats->log('pageview', ['url' => 'http://example.com/абвгдежз/', 'referrer' => '']); // session start
// $currentTime = time();
// $result = $app->visitorStats->getStats($currentTime - 86400, $currentTime, [
//     'lastPageviews',
//     'pageviewsPerDayCount',
//     'sessionsPerDayCount',
//     'sourcesVisitsCount',
//     'landingPagesCount',
//     'pageviewsPerPageCount',
// ]);
// print_r($result);
